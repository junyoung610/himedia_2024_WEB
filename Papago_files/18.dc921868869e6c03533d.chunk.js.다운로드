(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"./app/components/SocialPlugin/index.tsx":function(t,e,n){"use strict";n.r(e),n.d(e,"mapDispatchToProps",(function(){return k}));var i={};n.r(i),n.d(i,"console",(function(){return g}));var o=n("./node_modules/tslib/tslib.js"),s=n("./node_modules/react/index.js"),a=n("./node_modules/react-load-script/lib/index.js"),r=n("./node_modules/react-redux/lib/index.js"),l=n("./node_modules/redux/lib/redux.js"),d=n("./app/components/A/index.tsx"),p=n("./app/components/Button/index.tsx"),c=n("./node_modules/redux-thunk-actions/lib/index.js"),u=n("./app/constants/actions.ts"),m=n("./app/constants/naver.ts"),h=n("./app/utils/request.ts"),b={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},g=Object(c.createActionThunk)(u.b,(function(t,e){return Object(h.c)(m.ab+"/apis/console",{body:t,headers:b})})),f=n("./app/actions/url.ts"),v=n("./node_modules/classnames/index.js"),w=n("./app/utils/event.ts"),y=n("./app/utils/logger.ts"),x=n("./app/utils/user-agent.ts"),j=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.spiVisible=!1,i.init=function(){i.setState({loaded:!0})},i.onError=function(){y.a.error("Social Plugin is not loaded")},i.onLoad=function(){var t=i;window.__splugin=window.SocialPlugIn_Core({darkMode:!!t.props.darkMode,dimmed:"fixed",evKey:"papago",onClick:function(e){t.spiVisible=!1,document.getElementsByTagName("body")[0].style.overflow=""},onHide:function(){t.spiVisible=!1,document.getElementsByTagName("body")[0].style.overflow=""},onShow:function(){t.spiVisible=!0},serviceName:"파파고"})},i.state={loaded:!1},i.onClick=i.onClick.bind(i),i.onError=i.onError.bind(i),i.onLoad=i.onLoad.bind(i),i}return o.__extends(e,t),e.prototype.componentDidMount=function(){window.checkLoaded()?this.init():window.addEventListener("load",this.init,!1)},e.prototype.componentWillUnmount=function(){window.removeEventListener("load",this.init,!1)},e.prototype.onClick=function(t){var e=document.getElementsByClassName("spi_lst_release"),n=this.props.isMobileDevice,i=void 0===n?Object(x.j)():n;if(!this.spiVisible||0===e.length||e[0]&&"none"===e[0].style.display){var o=document.getElementById("naver-splugin"),s=this.props.getShareUrl();this.props.urlActions.getShortenUrl({svcCode:m.w,url:s}).then((function(e){(t.persist(),o.setAttribute("data-url",e.result.url),i)&&(document.getElementsByTagName("body")[0].style.overflow="hidden");o.click()}))}this.props.onClick&&this.props.onClick(t)},e.prototype.render=function(){var t=o.__assign({align:"right",layerPosition:"outside-bottom",left:0,marginLeft:8,marginTop:10,top:4},this.props.dataOption),e=this.props.isMobileDevice,n=void 0===e?Object(x.j)():e,i=n?m.O:m.mb,r=this.props.initParams,l=this.props.targetText;return s.createElement(p.a,{id:"naverSpluginButton",area:this.props.area,className:this.props.className,onClick:this.onClick,title:this.props.title},this.props.children,s.createElement(d.a,{onClick:function(t){return Object(w.a)(t)},id:"naver-splugin",className:v("naver-splugin"),"data-oninitialize":r?"(function() { return "+JSON.stringify(this.props.initParams)+"})()":"","data-blog-return-url":"http://m.blog.naver.com","data-me-feed-info":"파파고","data-me-oninitialize":"onSubscribe(this);","data-option":t,"data-style":n?"standard":"unity-v2","data-title":l&&""!==l?l.substring(0,200):this.props.title,title:this.props.title},s.createElement("span",{className:"blind"},"공유하기"),s.createElement("span",{className:"naver-splugin-c"})),this.state.loaded&&s.createElement(a,{id:"naver-splugin-sdk",url:i+"?v="+Math.floor((new Date).getTime()/12e5),charset:"utf-8",onError:this.onError,onLoad:this.onLoad}))},e}(s.PureComponent);function k(t){return{debugActions:Object(l.bindActionCreators)(i,t),urlActions:Object(l.bindActionCreators)(f,t)}}e.default=Object(r.connect)(null,k)(j)}}]);